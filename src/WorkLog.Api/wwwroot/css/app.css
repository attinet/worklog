/* ==== Reset & Base ==== */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif; color: #1f2937; background: #f3f4f6; line-height: 1.5; }

/* ==== Form validation ==== */
.valid.modified:not([type=checkbox]) { outline: 1px solid #26b050; }
.invalid { outline: 1px solid red; }
.validation-message { color: #dc2626; font-size: 0.75rem; }

/* ==== Blazor error / loading ==== */
#blazor-error-ui { color-scheme: light only; background: lightyellow; bottom: 0; box-shadow: 0 -1px 2px rgba(0,0,0,.2); display: none; left: 0; padding: .6rem 1.25rem .7rem; position: fixed; width: 100%; z-index: 1000; }
#blazor-error-ui .dismiss { cursor: pointer; position: absolute; right: .75rem; top: .5rem; }
.blazor-error-boundary { background: #b32121; padding: 1rem; color: white; }
.blazor-error-boundary::after { content: "發生錯誤，請重新整理頁面。"; }

.loading-progress { position: absolute; display: block; width: 8rem; height: 8rem; inset: 20vh 0 auto 0; margin: 0 auto; }
.loading-progress circle { fill: none; stroke: #e0e0e0; stroke-width: .6rem; transform-origin: 50% 50%; transform: rotate(-90deg); }
.loading-progress circle:last-child { stroke: #2563eb; stroke-dasharray: calc(3.141 * var(--blazor-load-percentage, 0%) * .8), 500%; transition: stroke-dasharray .05s ease-in-out; }
.loading-progress-text { position: absolute; text-align: center; font-weight: bold; inset: calc(20vh + 3.25rem) 0 auto .2rem; }
.loading-progress-text::after { content: var(--blazor-load-percentage-text, "載入中"); }

/* ==== MudBlazor Custom Enhancements ==== */

/* Smooth transitions for Paper / Card components */
.mud-paper {
    transition: box-shadow 0.2s ease-in-out, transform 0.2s ease-in-out;
}

/* Hover effect for cards */
.hover-card {
    transition: all 0.2s ease-in-out;
}
.hover-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 16px rgba(0,0,0,0.15) !important;
}

/* Clickable list items */
.mud-list-item-clickable {
    cursor: pointer;
    transition: background-color 0.2s ease-in-out;
}
.mud-list-item-clickable:hover {
    background-color: rgba(0, 0, 0, 0.04);
}

/* Cursor pointer helper */
.cursor-pointer {
    cursor: pointer;
}

/* Form section title helper */
.form-section-title {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    margin-bottom: 0.25rem;
}

/* Flatpickr custom input styling */
.flatpickr-input-custom {
    color: rgba(0, 0, 0, 0.87);
}

.flatpickr-input-custom:hover {
    cursor: pointer;
}

.flatpickr-input-custom:focus {
    outline: none;
}

/* ==== Responsive Helpers ==== */
@media (min-width: 640px) {
    .sm\:table-cell { display: table-cell; }
}
@media (min-width: 768px) {
    .md\:table-cell { display: table-cell; }
}